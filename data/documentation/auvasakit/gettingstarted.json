{"schemaVersion":{"patch":0,"major":0,"minor":3},"metadata":{"roleHeading":"Article","role":"article","modules":[{"name":"AuvasaKit"}],"title":"Getting Started with AuvasaKit"},"kind":"article","identifier":{"interfaceLanguage":"swift","url":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/GettingStarted"},"sections":[],"seeAlsoSections":[{"anchor":"Getting-Started","generated":true,"identifiers":["doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/Installation"],"title":"Getting Started"}],"abstract":[{"text":"Learn how to integrate AuvasaKit into your app and make your first API calls.","type":"text"}],"primaryContentSections":[{"content":[{"level":2,"text":"Installation","anchor":"Installation","type":"heading"},{"level":3,"text":"Swift Package Manager","anchor":"Swift-Package-Manager","type":"heading"},{"inlineContent":[{"type":"text","text":"Add AuvasaKit to your project using Swift Package Manager:"}],"type":"paragraph"},{"code":["dependencies: [","    .package(url: \"https:\/\/github.com\/yourusername\/AuvasaKit.git\", from: \"1.0.0\")","]"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"Then add it to your target dependencies:"}],"type":"paragraph"},{"code":[".target(","    name: \"YourApp\",","    dependencies: [\"AuvasaKit\"]",")"],"syntax":"swift","type":"codeListing"},{"level":2,"text":"Quick Start","anchor":"Quick-Start","type":"heading"},{"level":3,"text":"1. Initialize the Client","anchor":"1-Initialize-the-Client","type":"heading"},{"code":["import AuvasaKit","","let client = AuvasaClient()"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"The client is an actor that manages all API requests and data operations. You can customize its behavior with a configuration:"}],"type":"paragraph"},{"code":["let config = AuvasaClient.Configuration(","    timeout: 30,","    pollingInterval: 15  \/\/ For subscriptions",")","let client = AuvasaClient(configuration: config)"],"syntax":"swift","type":"codeListing"},{"level":3,"text":"2. Fetch Real-Time Vehicle Positions","anchor":"2-Fetch-Real-Time-Vehicle-Positions","type":"heading"},{"inlineContent":[{"text":"Get current positions of all active buses:","type":"text"}],"type":"paragraph"},{"code":["let vehicles = try await client.fetchVehiclePositions()","","for vehicle in vehicles {","    print(\"Bus \\(vehicle.vehicle.label ?? \"?\"): \\(vehicle.position)\")","    if let speed = vehicle.speed {","        print(\"  Speed: \\(speed) m\/s\")","    }","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"Filter by a specific route:"}],"type":"paragraph"},{"code":["let route1Vehicles = try await client.fetchVehiclePositions(routeId: \"L1\")"],"syntax":"swift","type":"codeListing"},{"level":3,"text":"3. Get Next Arrivals at a Stop","anchor":"3-Get-Next-Arrivals-at-a-Stop","type":"heading"},{"inlineContent":[{"type":"text","text":"Combine static schedules with real-time predictions:"}],"type":"paragraph"},{"code":["let arrivals = try await client.getNextArrivals(stopId: \"123\", limit: 5)","","for arrival in arrivals {","    print(\"\\(arrival.route.shortName) to \\(arrival.trip.headsign ?? \"?\")\")","    print(\"  Scheduled: \\(arrival.scheduledTime)\")","","    if let estimated = arrival.estimatedTime {","        print(\"  Estimated: \\(estimated)\")","        if let delay = arrival.delay {","            print(\"  Delay: \\(delay) seconds\")","        }","    }","}"],"syntax":"swift","type":"codeListing"},{"level":3,"text":"4. Find Nearby Stops","anchor":"4-Find-Nearby-Stops","type":"heading"},{"inlineContent":[{"type":"text","text":"Search for stops within a radius:"}],"type":"paragraph"},{"code":["let userLocation = Coordinate(latitude: 41.6523, longitude: -4.7245)","let nearbyStops = try await client.findNearbyStops(","    coordinate: userLocation,","    radiusMeters: 500",")","","for stop in nearbyStops {","    print(\"\\(stop.name) - \\(stop.coordinate)\")","}"],"syntax":"swift","type":"codeListing"},{"level":3,"text":"5. Subscribe to Real-Time Updates","anchor":"5-Subscribe-to-Real-Time-Updates","type":"heading"},{"inlineContent":[{"type":"text","text":"Use AsyncStream for continuous updates:"}],"type":"paragraph"},{"code":["for await positions in client.subscribeToVehiclePositions(routeId: \"L1\") {","    print(\"Received \\(positions.count) vehicle positions\")","    \/\/ Update your UI with latest positions","}"],"syntax":"swift","type":"codeListing"},{"level":2,"text":"Importing Static Data","anchor":"Importing-Static-Data","type":"heading"},{"inlineContent":[{"text":"On first use, download the GTFS static data:","type":"text"}],"type":"paragraph"},{"code":["\/\/ Download and import GTFS data (one-time operation)","try await client.updateStaticData()"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"This downloads stops, routes, schedules, and other static information. The data is stored locally in CoreData and only needs to be updated occasionally."}],"type":"paragraph"},{"level":2,"text":"Error Handling","anchor":"Error-Handling","type":"heading"},{"inlineContent":[{"type":"text","text":"Handle errors using Swift’s standard error handling:"}],"type":"paragraph"},{"code":["do {","    let vehicles = try await client.fetchVehiclePositions()","    \/\/ Process vehicles","} catch {","    print(\"Error fetching vehicles: \\(error)\")","}"],"syntax":"swift","type":"codeListing"},{"level":2,"text":"Next Steps","anchor":"Next-Steps","type":"heading"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Learn about "},{"identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/RealTimeData","type":"reference","isActive":true},{"type":"text","text":" features"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Explore "},{"type":"reference","identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/StaticData","isActive":true},{"type":"text","text":" queries"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Set up "},{"isActive":true,"identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/Subscriptions","type":"reference"},{"type":"text","text":" for live updates"}]}]}],"type":"unorderedList"}],"kind":"content"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/auvasakit\/gettingstarted"]}],"hierarchy":{"paths":[["doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit"]]},"references":{"doc://auvasakit.AuvasaKit/documentation/AuvasaKit/Subscriptions":{"kind":"article","url":"\/documentation\/auvasakit\/subscriptions","title":"Subscriptions","identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/Subscriptions","type":"topic","abstract":[{"type":"text","text":"Subscribe to continuous real-time updates using AsyncStream."}],"role":"article"},"doc://auvasakit.AuvasaKit/documentation/AuvasaKit/Installation":{"kind":"article","role":"article","title":"Installation","abstract":[{"text":"Add AuvasaKit to your iOS or macOS project.","type":"text"}],"identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/Installation","type":"topic","url":"\/documentation\/auvasakit\/installation"},"doc://auvasakit.AuvasaKit/documentation/AuvasaKit":{"identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit","kind":"symbol","title":"AuvasaKit","url":"\/documentation\/auvasakit","abstract":[{"type":"text","text":"Modern Swift SDK for accessing AUVASA (Autobuses Urbanos de Valladolid) transit data."}],"role":"collection","type":"topic"},"doc://auvasakit.AuvasaKit/documentation/AuvasaKit/RealTimeData":{"type":"topic","url":"\/documentation\/auvasakit\/realtimedata","identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/RealTimeData","kind":"article","title":"Real-Time Data","role":"article","abstract":[{"text":"Access live transit information from AUVASA’s GTFS Real-Time feed.","type":"text"}]},"doc://auvasakit.AuvasaKit/documentation/AuvasaKit/StaticData":{"kind":"article","type":"topic","abstract":[{"type":"text","text":"Query GTFS static data for stops, routes, schedules, and more."}],"role":"article","title":"Static Data","identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/StaticData","url":"\/documentation\/auvasakit\/staticdata"}}}