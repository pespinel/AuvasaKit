{"schemaVersion":{"major":0,"minor":3,"patch":0},"abstract":[{"text":"Query GTFS static data for stops, routes, schedules, and more.","type":"text"}],"seeAlsoSections":[{"anchor":"Related-Documentation","title":"Related Documentation","identifiers":["doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/RealTimeData","doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/Searches","doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/Stop"]},{"generated":true,"anchor":"Static-Data","title":"Static Data","identifiers":["doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/Searches"]}],"primaryContentSections":[{"content":[{"text":"Overview","anchor":"Overview","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"text":"AuvasaKit downloads and stores static transit data from AUVASA’s GTFS feed. This includes:","type":"text"}]},{"items":[{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Stops"}],"type":"strong"},{"text":": Physical bus stop locations and information","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Routes","type":"text"}],"type":"strong"},{"text":": Bus lines and their properties","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"type":"text","text":"Trips"}],"type":"strong"},{"text":": Scheduled service patterns","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Schedules","type":"text"}],"type":"strong"},{"text":": Stop times and departure information","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Calendar"}]},{"type":"text","text":": Service days and exceptions"}],"type":"paragraph"}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Static data is stored locally in CoreData for fast, offline access."}]},{"text":"Initial Setup","anchor":"Initial-Setup","type":"heading","level":2},{"text":"Import GTFS Data","anchor":"Import-GTFS-Data","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Download and import static data on first use:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["\/\/ One-time import (or when data needs updating)","try await client.updateStaticData()"]},{"type":"paragraph","inlineContent":[{"text":"This downloads the GTFS ZIP file from AUVASA, extracts it, parses all CSV files, and imports the data into the local database. The process typically takes 10-30 seconds.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"When to update:"}]}]},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"On first app launch"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Periodically (weekly\/monthly) to get schedule updates","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"When AUVASA announces changes to routes or stops"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"Working with Stops","anchor":"Working-with-Stops","type":"heading","level":2},{"text":"Get a Specific Stop","anchor":"Get-a-Specific-Stop","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Fetch a stop by ID:"}]},{"syntax":"swift","type":"codeListing","code":["if let stop = try await client.getStop(id: \"123\") {","    print(\"Stop: \\(stop.name)\")","    print(\"  Code: \\(stop.code ?? \"N\/A\")\")","    print(\"  Location: \\(stop.coordinate)\")","    print(\"  Wheelchair: \\(stop.wheelchairBoarding)\")","}"]},{"text":"Search Stops by Name","anchor":"Search-Stops-by-Name","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Find stops matching a query:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["let stops = try await client.searchStops(query: \"plaza\")","","for stop in stops {","    print(\"\\(stop.name) (\\(stop.code ?? \"?\"))\")","}"]},{"text":"Find Nearby Stops","anchor":"Find-Nearby-Stops","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Search for stops within a radius:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["let userLocation = Coordinate(latitude: 41.6523, longitude: -4.7245)","let nearbyStops = try await client.findNearbyStops(","    coordinate: userLocation,","    radiusMeters: 500",")","","for stop in nearbyStops {","    let distance = userLocation.distance(to: stop.coordinate)","    print(\"\\(stop.name): \\(Int(distance))m away\")","}"]},{"text":"Get All Stops","anchor":"Get-All-Stops","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Fetch the complete stop database:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["let allStops = try await client.fetchAllStops()","print(\"Total stops: \\(allStops.count)\")"]},{"text":"Filter Wheelchair Accessible Stops","anchor":"Filter-Wheelchair-Accessible-Stops","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Find stops with wheelchair boarding:"}]},{"syntax":"swift","type":"codeListing","code":["let accessibleStops = try await client.fetchWheelchairAccessibleStops()","","for stop in accessibleStops {","    print(\"♿️ \\(stop.name)\")","}"]},{"text":"Working with Routes","anchor":"Working-with-Routes","type":"heading","level":2},{"text":"Get All Routes","anchor":"Get-All-Routes","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Fetch all bus lines:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["let routes = try await client.fetchRoutes()","","for route in routes {","    print(\"\\(route.shortName): \\(route.longName)\")","    if let color = route.color {","        print(\"  Color: #\\(color)\")","    }","}"]},{"text":"Get a Specific Route","anchor":"Get-a-Specific-Route","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Fetch a route by ID:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["if let route = try await client.getRoute(id: \"L1\") {","    print(\"Route: \\(route.longName)\")","    print(\"  Type: \\(route.type)\")  \/\/ .bus, .tram, etc.","}"]},{"text":"Search Routes","anchor":"Search-Routes","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Find routes by name:"}]},{"syntax":"swift","type":"codeListing","code":["let routes = try await client.searchRoutes(query: \"circular\")","","for route in routes {","    print(\"\\(route.shortName): \\(route.longName)\")","}"]},{"text":"Filter by Route Type","anchor":"Filter-by-Route-Type","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Get routes of a specific type:"}]},{"syntax":"swift","type":"codeListing","code":["let buses = try await client.fetchRoutes(type: .bus)","print(\"Bus routes: \\(buses.count)\")"]},{"text":"Working with Schedules","anchor":"Working-with-Schedules","type":"heading","level":2},{"text":"Get Schedule for a Stop","anchor":"Get-Schedule-for-a-Stop","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Fetch all scheduled departures from a stop:"}]},{"syntax":"swift","type":"codeListing","code":["let schedule = try await client.getSchedule(stopId: \"123\")","","for stopTime in schedule {","    print(\"Trip \\(stopTime.tripId)\")","    print(\"  Departure: \\(stopTime.departureTime)\")  \/\/ \"14:30:00\"","    print(\"  Sequence: \\(stopTime.stopSequence)\")","}"]},{"text":"Get Schedule for a Specific Date","anchor":"Get-Schedule-for-a-Specific-Date","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Fetch schedule for a particular day:"}]},{"syntax":"swift","type":"codeListing","code":["let tomorrow = Date().addingTimeInterval(86400)","let schedule = try await client.getSchedule(stopId: \"123\", date: tomorrow)"]},{"text":"Get Upcoming Departures","anchor":"Get-Upcoming-Departures","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Fetch next departures after a specific time:"}]},{"syntax":"swift","type":"codeListing","code":["\/\/ Current time in HH:MM:SS format","let now = \"14:30:00\"","","let upcoming = try await client.fetchUpcomingDepartures(","    stopId: \"123\",","    afterTime: now,","    limit: 10",")","","for stopTime in upcoming {","    print(\"Departure: \\(stopTime.departureTime)\")","}"]},{"text":"Working with Trips","anchor":"Working-with-Trips","type":"heading","level":2},{"text":"Get Trip Information","anchor":"Get-Trip-Information","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Fetch details about a specific trip:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["if let trip = try await client.getTrip(id: \"TRIP_123\") {","    print(\"Trip: \\(trip.headsign ?? \"?\")\")","    print(\"  Route: \\(trip.routeId)\")","    print(\"  Direction: \\(trip.directionId ?? 0)\")","    print(\"  Wheelchair: \\(trip.wheelchairAccessible)\")","}"]},{"text":"Get Trips for a Route","anchor":"Get-Trips-for-a-Route","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Find all trips on a route:"}]},{"syntax":"swift","type":"codeListing","code":["let trips = try await client.fetchTrips(routeId: \"L1\")","","for trip in trips {","    print(\"\\(trip.headsign ?? \"?\")\")","    print(\"  Direction: \\(trip.directionId ?? 0)\")","}"]},{"text":"Get Trips by Direction","anchor":"Get-Trips-by-Direction","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Filter trips by direction:"}]},{"syntax":"swift","type":"codeListing","code":["let outbound = try await client.fetchTrips(routeId: \"L1\", directionId: 0)","let inbound = try await client.fetchTrips(routeId: \"L1\", directionId: 1)"]},{"text":"Working with Calendars","anchor":"Working-with-Calendars","type":"heading","level":2},{"text":"Check Service Availability","anchor":"Check-Service-Availability","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Determine if a service runs on a specific date:"}]},{"syntax":"swift","type":"codeListing","code":["if let calendar = try await client.getCalendar(serviceId: \"WEEKDAY\") {","    let today = Date()","","    if calendar.runsOn(date: today) {","        print(\"Service is running today\")","    } else {","        print(\"Service is not running today\")","    }","","    print(\"Active days: \\(calendar.activeDays.joined(separator: \", \"))\")","}"]},{"text":"Get Active Services","anchor":"Get-Active-Services","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Find which services are active today:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["let activeCalendars = try await client.fetchActiveCalendars(date: Date())","","for calendar in activeCalendars {","    print(\"Service \\(calendar.id) is active\")","}"]},{"text":"Data Models","anchor":"Data-Models","type":"heading","level":2},{"text":"Stop","anchor":"Stop","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["public struct Stop {","    let id: String","    let code: String?","    let name: String","    let coordinate: Coordinate","    let wheelchairBoarding: WheelchairBoarding","    let locationType: LocationType","    \/\/ ... more properties","}"]},{"text":"Route","anchor":"Route","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["public struct Route {","    let id: String","    let shortName: String  \/\/ \"1\", \"L2\"","    let longName: String   \/\/ \"Universidad - Circular\"","    let type: RouteType    \/\/ .bus, .tram, etc.","    let color: String?     \/\/ Hex color","    \/\/ ... more properties","}"]},{"text":"StopTime","anchor":"StopTime","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["public struct StopTime {","    let tripId: String","    let stopId: String","    let arrivalTime: String      \/\/ \"14:30:00\"","    let departureTime: String    \/\/ \"14:30:00\"","    let stopSequence: Int        \/\/ Order in trip","    \/\/ ... more properties","}"]},{"text":"Trip","anchor":"Trip","type":"heading","level":3},{"syntax":"swift","type":"codeListing","code":["public struct Trip {","    let id: String","    let routeId: String","    let serviceId: String","    let headsign: String?         \/\/ Destination","    let directionId: Int?         \/\/ 0 or 1","    let wheelchairAccessible: WheelchairAccessibility","    \/\/ ... more properties","}"]},{"text":"Performance Tips","anchor":"Performance-Tips","type":"heading","level":2},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Use Nearby Search","type":"text"}]},{"text":": When searching geographically, use ","type":"text"},{"code":"findNearbyStops()","type":"codeVoice"},{"text":" instead of fetching all stops and filtering manually","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Limit Results"}]},{"type":"text","text":": Use the "},{"code":"limit","type":"codeVoice"},{"type":"text","text":" parameter to reduce data transfer:"}],"type":"paragraph"},{"syntax":"swift","code":["let stops = try await client.fetchUpcomingDepartures(stopId: \"123\", limit: 5)"],"type":"codeListing"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Cache Results","type":"text"}]},{"type":"text","text":": Static data rarely changes, so cache results in your app if you access them frequently"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"inlineContent":[{"text":"Background Import","type":"text"}],"type":"strong"},{"text":": Run ","type":"text"},{"code":"updateStaticData()","type":"codeVoice"},{"text":" in the background on app launch","type":"text"}]}]}],"type":"orderedList"}],"kind":"content"}],"metadata":{"roleHeading":"Article","modules":[{"name":"AuvasaKit"}],"role":"article","title":"Static Data"},"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/auvasakit\/staticdata"]}],"identifier":{"url":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/StaticData","interfaceLanguage":"swift"},"kind":"article","hierarchy":{"paths":[["doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit"]]},"references":{"doc://auvasakit.AuvasaKit/documentation/AuvasaKit/Searches":{"role":"article","type":"topic","abstract":[{"text":"Advanced search patterns and use cases.","type":"text"}],"kind":"article","identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/Searches","url":"\/documentation\/auvasakit\/searches","title":"Search Examples"},"doc://auvasakit.AuvasaKit/documentation/AuvasaKit/RealTimeData":{"type":"topic","url":"\/documentation\/auvasakit\/realtimedata","identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/RealTimeData","kind":"article","title":"Real-Time Data","role":"article","abstract":[{"text":"Access live transit information from AUVASA’s GTFS Real-Time feed.","type":"text"}]},"doc://auvasakit.AuvasaKit/documentation/AuvasaKit/Stop":{"kind":"symbol","type":"topic","title":"Stop","url":"\/documentation\/auvasakit\/stop","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Stop","kind":"identifier"}],"identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit\/Stop","abstract":[{"type":"text","text":"Represents a physical bus stop"}],"role":"symbol","navigatorTitle":[{"text":"Stop","kind":"identifier"}]},"doc://auvasakit.AuvasaKit/documentation/AuvasaKit":{"identifier":"doc:\/\/auvasakit.AuvasaKit\/documentation\/AuvasaKit","kind":"symbol","title":"AuvasaKit","url":"\/documentation\/auvasakit","abstract":[{"type":"text","text":"Modern Swift SDK for accessing AUVASA (Autobuses Urbanos de Valladolid) transit data."}],"role":"collection","type":"topic"}}}